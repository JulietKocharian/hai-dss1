// src/utils/scenarios.js
// ’à÷Ä’∏’∑’∏÷Ç’¥’°’µ’´’∂ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’´’∂’ø’•’¨’´’£’•’∂’ø ’£’•’∂’•÷Ä’°÷Å’´’° ’¥’•’∂’•’ª’•÷Ä’∂’•÷Ä’´ ’∞’°’¥’°÷Ä

/**
 * ’ç÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’£’•’∂’•÷Ä’°÷Å’´’° ’ø’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø’´, ’°’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ÷á ’Ø’¨’°’Ω’ø’•÷Ä’´’¶’°÷Å’´’°’µ’´ ’∞’´’¥’°’∂ ’æ÷Ä’°
 * @param {string} dataType - ’è’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø
 * @param {Object} fuzzyResults - ‘±’∂’∏÷Ä’∏’∑ ’ø÷Ä’°’¥’°’¢’°’∂’∏÷Ç’©’µ’°’∂ ’°÷Ä’§’µ’∏÷Ç’∂÷Ñ’∂’•÷Ä
 * @param {Array} clusterData - ‘ø’¨’°’Ω’ø’•÷Ä’´’¶’°÷Å’´’°’µ’´ ’°÷Ä’§’µ’∏÷Ç’∂÷Ñ’∂’•÷Ä
 * @returns {Array} ’ç÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’Ø
 */
export const generateScenarios = (dataType, fuzzyResults = null, clusterData = null) => {
    try {
        // ‘≤’°’¶’°’µ’´’∂ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’Ω’ø’°÷Å’∏÷Ç’¥
        const baseScenarios = getBaseScenarios(dataType);

        // ‘±’§’°’∫’ø’´’æ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥ ’°’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ÷á ’Ø’¨’°’Ω’ø’•÷Ä’∂’•÷Ä’´ ’∞’´’¥’°’∂ ’æ÷Ä’°
        const adaptiveScenarios = createAdaptiveScenarios(dataType, fuzzyResults, clusterData);

        // ’ç÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’Ø’∏’¥’¢’´’∂’°÷Å’´’° ÷á ’°’º’°’ª’∂’°’∞’•÷Ä’©’∏÷Ç’©’µ’°’∂ ’Ω’∏÷Ä’ø’°’æ’∏÷Ä’∏÷Ç’¥
        const allScenarios = [...baseScenarios, ...adaptiveScenarios];
        const prioritizedScenarios = prioritizeScenarios(allScenarios, fuzzyResults);

        // ’é’•÷Ä’ª’∂’°’Ø’°’∂ ’¥’∑’°’Ø’∏÷Ç’¥ ÷á ’æ’°’¨’´’§’°÷Å’´’°
        return finalizeScenarios(prioritizedScenarios);

    } catch (error) {
        console.error('’ç÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’£’•’∂’•÷Ä’°÷Å’´’°’µ’´ ’Ω’≠’°’¨:', error);
        return getFallbackScenarios(dataType);
    }
};

/**
 * ’è’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø’´ ’∞’°’¥’°÷Ä ’∞’´’¥’∂’°’Ø’°’∂ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’Ω’ø’°÷Å’∏÷Ç’¥
 * @param {string} dataType - ’è’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø
 * @returns {Array} ’Ä’´’¥’∂’°’Ø’°’∂ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä
 */
const getBaseScenarios = (dataType) => {
    const scenarioTemplates = {
        demographic: [
            {
                title: '‘æ’•÷Ä’°÷Å’∏’≤ ’¢’∂’°’Ø’π’∏÷Ç’©’µ’°’∂ ’Ø’°’º’°’æ’°÷Ä’∏÷Ç’¥',
                description: '’é’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’∏÷Ç’∂’® ÷Å’∏÷Ç’µ÷Å ’ß ’ø’°’¨’´’Ω ’¢’∂’°’Ø’π’∏÷Ç’©’µ’°’∂ ’Æ’•÷Ä’°÷Å’¥’°’∂ ’¥’´’ø’∏÷Ç’¥, ’∏÷Ä’® ’∫’°’∞’°’∂’ª’∏÷Ç’¥ ’ß ’∞’°’¥’°’Ø’°÷Ä’£’°’µ’´’∂ ’¥’∏’ø’•÷Å’∏÷Ç’¥',
                category: 'population_management',
                priority: 'high',
                timeframe: 'long_term',
                actions: [
                    '‘æ’•÷Ä’∏÷Ç’∂’°’Ø’°’∂ ’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ÷Å’°’∂÷Å’´ ’®’∂’§’¨’°’µ’∂’∏÷Ç’¥',
                    '’è’∂’°’µ’´’∂ ’≠’∂’°’¥÷Ñ’´ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’¶’°÷Ä’£’°÷Å’∏÷Ç’¥',
                    '‘±’º’∏’≤’ª’°’∫’°’∞’°’Ø’°’∂ ’º’•’Ω’∏÷Ç÷Ä’Ω’∂’•÷Ä’´ ’æ’•÷Ä’°’¢’°’∑’≠’∏÷Ç’¥',
                    '’è÷Ä’°’∂’Ω’∫’∏÷Ä’ø’°’µ’´’∂ ’¥’°’ø’π’•’¨’´’∏÷Ç’©’µ’°’∂ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥',
                    '’ë’•÷Ä’•’Ø’°’µ’´’∂ ’Ø’•’∂’ø÷Ä’∏’∂’∂’•÷Ä’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥'
                ],
                indicators: ['’¢’∂’°’Ø’π’∏÷Ç’©’µ’°’∂ ’ø’°÷Ä’´÷Ñ’°’µ’´’∂ ’Ø’°’º’∏÷Ç÷Å’æ’°’Æ÷Ñ', '’Æ’•÷Ä’∏÷Ç’©’µ’°’¥’¢ ’Ø’°’≠’æ’°’Æ’∏÷Ç’©’µ’°’∂ ’£’∏÷Ä’Æ’°’Ø’´÷Å'],
                risks: ['’¢’µ’∏÷Ç’ª’•’ø’°’µ’´’∂ ’≥’∂’∑’∏÷Ç’¥’∂’•÷Ä', '’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’°’∂’¢’°’æ’°÷Ä’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂']
            },
            {
                title: '‘µ÷Ä’´’ø’°’Ω’°÷Ä’§’°’Ø’°’∂ ’¥’´’£÷Ä’°÷Å’´’°’µ’´ ’Ø’°’∂’≠’°÷Ä’£’•’¨’∏÷Ç’¥',
                description: '‘µ÷Ä’´’ø’°’Ω’°÷Ä’§ ’¢’∂’°’Ø’π’∏÷Ç’©’µ’°’∂ ’°÷Ä’ø’°’£’°’≤’©’® ’æ’ø’°’∂’£’∏÷Ç’¥ ’ß ’ø’∂’ø’•’Ω’°’Ø’°’∂ ’Ø’°’µ’∏÷Ç’∂’∏÷Ç’©’µ’∏÷Ç’∂’®',
                category: 'retention_strategy',
                priority: 'medium',
                timeframe: 'medium_term',
                actions: [
                    '‘±’∑’≠’°’ø’°’ø’•’≤’•÷Ä’´ ’Ω’ø’•’≤’Æ’¥’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’£’∏÷Ä’Æ’°÷Ä’Ø’∏÷Ç’¥',
                    '‘≤’°÷Ä’±÷Ä’°’Ø’°÷Ä’£ ’Ø÷Ä’©’°’Ø’°’∂ ’∞’∂’°÷Ä’°’æ’∏÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’°’∫’°’∞’∏’æ’∏÷Ç’¥',
                    '‘µ÷Ä’´’ø’°’Ω’°÷Ä’§’∂’•÷Ä’´ ’±’•’º’∂’•÷Ä’•÷Å’∏÷Ç’©’µ’°’∂ ’°’ª’°’Ø÷Å’∏÷Ç’©’µ’∏÷Ç’∂',
                    '’Ñ’∑’°’Ø’∏÷Ç’©’°’µ’´’∂ ÷á ’™’°’¥’°’∂÷Å’°’µ’´’∂ ’•’∂’©’°’Ø’°’º’∏÷Ç÷Å’æ’°’Æ÷Ñ’∂’•÷Ä’´ ’¶’°÷Ä’£’°÷Å’∏÷Ç’¥',
                    '‘≤’∂’°’Ø’°÷Ä’°’∂’°’µ’´’∂ ’°’ª’°’Ø÷Å’∏÷Ç’©’µ’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä'
                ],
                indicators: ['’¥’´’£÷Ä’°÷Å’´’°’µ’´ ’£’∏÷Ä’Æ’°’Ø’´÷Å', '’•÷Ä’´’ø’°’Ω’°÷Ä’§’∂’•÷Ä’´ ’¶’¢’°’≤’æ’°’Æ’∏÷Ç’©’µ’∏÷Ç’∂'],
                risks: ['’ø’∂’ø’•’Ω’°’Ø’°’∂ ’°’∂’Ø’∏÷Ç’¥', '’´’∂’∏’æ’°÷Å’´’∏’∂ ’∂’•÷Ä’∏÷Ç’™’´ ’Ø’∏÷Ä’∏÷Ç’Ω’ø']
            },
            {
                title: '‘∏’∂’ø’°’∂’´÷Ñ’°’µ’´’∂ ’Ø’°’º’∏÷Ç÷Å’æ’°’Æ÷Ñ’´ ’°’ª’°’Ø÷Å’∏÷Ç’©’µ’∏÷Ç’∂',
                description: '‘∏’∂’ø’°’∂’•’Ø’°’∂ ’¥’∏’§’•’¨’∂’•÷Ä’´ ÷É’∏÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂’® ’∫’°’∞’°’∂’ª’∏÷Ç’¥ ’ß ’∂’∏÷Ä ’Ω’∏÷Å’´’°’¨’°’Ø’°’∂ ÷Ñ’°’≤’°÷Ñ’°’Ø’°’∂’∏÷Ç’©’µ’∏÷Ç’∂',
                category: 'social_support',
                priority: 'medium',
                timeframe: 'medium_term',
                actions: [
                    '‘∏’∂’ø’°’∂’´÷Ñ’°’µ’´’∂ ’æ’°÷Ä’Ø’°’µ’´’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’∂’•÷Ä’§÷Ä’∏÷Ç’¥',
                    '’Ñ’°’∂’Ø’°’Ø’°’∂ ’¶’°÷Ä’£’°÷Å’¥’°’∂ ’Ø’•’∂’ø÷Ä’∏’∂’∂’•÷Ä’´ ÷Å’°’∂÷Å',
                    '‘±’∑’≠’°’ø’°’∂÷Ñ’´ ÷á ’®’∂’ø’°’∂’•’Ø’°’∂ ’Ø’µ’°’∂÷Ñ’´ ’∞’°’æ’°’Ω’°÷Ä’°’Ø’∑’º’∏÷Ç’©’µ’°’∂ ’°’∫’°’∞’∏’æ’∏÷Ç’¥',
                    '’Ñ’´’°’¥’°’º’∂’∏÷Ç’©’µ’°’∂ ’∫’°’µ’¥’°’∂’∂’•÷Ä’´ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥',
                    '’ç’∏÷Å’´’°’¨’°’Ø’°’∂ ’∫’°’∑’ø’∫’°’∂’∏÷Ç’©’µ’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’®’∂’§’¨’°’µ’∂’∏÷Ç’¥'
                ],
                indicators: ['’Æ’∂’•’¨’´’∏÷Ç’©’µ’°’∂ ’£’∏÷Ä’Æ’°’Ø’´÷Å', '’´’∂’°’¥÷Ö÷Ä’•’∂’°’Ø’°’∂ ’°’¥’∏÷Ç’Ω’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’©’´’æ'],
                risks: ['’§’•’¥’∏’£÷Ä’°÷Ü’´’°’Ø’°’∂ ’≥’£’∂’°’™’°’¥', '’Ω’∏÷Å’´’°’¨’°’Ø’°’∂ ’¢÷á’•’º’°÷Å’∏÷Ç’¥']
            }
        ],
        healthcare: [
            {
                title: '’î÷Ä’∏’∂’´’Ø ’∞’´’æ’°’∂’§’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∞’°’¥’°’Ø’°÷Ä’£’°’µ’´’∂ ’Ø’°’º’°’æ’°÷Ä’∏÷Ç’¥',
                description: '’î÷Ä’∏’∂’´’Ø ’∞’´’æ’°’∂’§’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’°’≥’∏’≤ ’ø’°÷Ä’°’Æ’æ’°’Æ’∏÷Ç’©’µ’∏÷Ç’∂’® ’∫’°’∞’°’∂’ª’∏÷Ç’¥ ’ß ’Ø’°’∂’≠’°÷Ä’£’•’¨’´’π ’¥’∏’ø’•÷Å’∏÷Ç’¥',
                category: 'chronic_disease_management',
                priority: 'high',
                timeframe: 'long_term',
                actions: [
                    '‘ø’°’∂’≠’°÷Ä’£’•’¨’´’π ’¢’™’∑’Ø’∏÷Ç’©’µ’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’®’∂’§’¨’°’µ’∂’∏÷Ç’¥',
                    '‘¥’´’°’Ø’°’º’∏÷Ç÷Å’æ’°’Æ ’≠’∂’°’¥÷Ñ’´ ’¥’∏’§’•’¨’´ ’∂’•÷Ä’§÷Ä’∏÷Ç’¥',
                    '’Ä’´’æ’°’∂’§’∂’•÷Ä’´ ’´’∂÷Ñ’∂’°’Ø’°’º’°’æ’°÷Ä’¥’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä',
                    '’è’•’≠’∂’∏’¨’∏’£’´’°’Ø’°’∂ ’¨’∏÷Ç’Æ’∏÷Ç’¥’∂’•÷Ä’´ (telemedicine) ÷Ö’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥',
                    '’Ñ’°’Ω’∂’°’£’´’ø’°’Ø’°’∂ ’Ø’°’§÷Ä’•÷Ä’´ ’∫’°’ø÷Ä’°’Ω’ø’∏÷Ç’¥'
                ],
                indicators: ['’∞’´’æ’°’∂’§’°÷Å’∏÷Ç’©’µ’°’∂ ÷á ’¥’°’∞’°÷Å’∏÷Ç’©’µ’°’∂ ÷Å’∏÷Ç÷Å’°’∂’´’∑’∂’•÷Ä', '’¢’∏÷Ç’™’°’Ø’°’∂ ’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’¥’°’ø’π’•’¨’´’∏÷Ç’©’µ’∏÷Ç’∂'],
                risks: ['’¢’∏÷Ç’™’°’Ø’°’∂ ’Æ’°’≠’Ω’•÷Ä’´ ’°’≥', '’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’°’∂’∞’°’¥’°÷Ä’™’•÷Ñ’∏÷Ç’©’µ’∏÷Ç’∂']
            },
            {
                title: '’Ä’∏’£’•’Ø’°’∂ ’°’º’∏’≤’ª’∏÷Ç’©’µ’°’∂ ’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’¶’°÷Ä’£’°÷Å’∏÷Ç’¥',
                description: '’Ä’∏’£’•’Ø’°’∂ ’°’º’∏’≤’ª’∏÷Ç’©’µ’°’∂ ’≠’∂’§’´÷Ä’∂’•÷Ä’® ’£’•÷Ä’°’Ø’° ’•’∂ ’§’°’º’∂’∏÷Ç’¥ ’¢’∏’¨’∏÷Ä ’ø’°÷Ä’´÷Ñ’°’µ’´’∂ ’≠’¥’¢’•÷Ä’∏÷Ç’¥',
                category: 'mental_health',
                priority: 'high',
                timeframe: 'medium_term',
                actions: [
                    '’Ä’∏’£’•’¢’°’∂’°’Ø’°’∂ ’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’¥’°’ø’π’•’¨’´’∏÷Ç’©’µ’°’∂ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥',
                    '‘±’æ’°÷Ä’ø’°’Ø’°’∂ ’°’∑’≠’°’ø’°’Ø’´÷Å’∂’•÷Ä’´ ’∫’°’ø÷Ä’°’Ω’ø’∏÷Ç’¥',
                    '’Ä’°’∂÷Ä’°’µ’´’∂ ’´÷Ä’°’¶’•’Ø’∏÷Ç’©’µ’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä',
                    '‘±’ª’°’Ø÷Å’∏’≤ ’≠’¥’¢’•÷Ä’´ ÷á ’∞’°’¥’°’µ’∂÷Ñ’°’µ’´’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥',
                    '’É’£’∂’°’™’°’¥’°’µ’´’∂ ’∞’•’º’°’≠’∏’Ω’°’µ’´’∂ ’£’Æ’•÷Ä’´ ’£’∏÷Ä’Æ’°÷Ä’Ø’∏÷Ç’¥'
                ],
                indicators: ['’∞’∏’£’•’Ø’°’∂ ’≠’°’∂’£’°÷Ä’∏÷Ç’¥’∂’•÷Ä’´ ’ø’°÷Ä’°’Æ’æ’°’Æ’∏÷Ç’©’µ’∏÷Ç’∂', '’´’∂÷Ñ’∂’°’Ω’∫’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’∂’´’∑'],
                risks: ['’Ω’ø’´’£’¥’°’ø’´’¶’°÷Å’´’°', '’¥’°’Ω’∂’°’£’´’ø’°’Ø’°’∂ ’Ø’°’§÷Ä’•÷Ä’´ ’∫’°’Ø’°’Ω']
            },
            {
                title: '‘±’º’∏’≤’ª’°’∫’°’∞’°’Ø’°’∂ ’∞’°’¥’°’Ø’°÷Ä’£’´ ’©’æ’°’µ’´’∂ ÷É’∏’≠’°’Ø’•÷Ä’∫’∏÷Ç’¥',
                description: '’è’•’≠’∂’∏’¨’∏’£’´’°’Ø’°’∂ ’°’º’°’ª’®’∂’©’°÷Å’´ ’´’∂’ø’•’£÷Ä’¥’°’∂ ’°’≥’∏’≤ ’°’∂’∞÷Ä’°’™’•’∑’ø’∏÷Ç’©’µ’∏÷Ç’∂',
                category: 'digital_transformation',
                priority: 'medium',
                timeframe: 'medium_term',
                actions: [
                    '‘∑’¨’•’Ø’ø÷Ä’∏’∂’°’µ’´’∂ ’¢’™’∑’Ø’°’Ø’°’∂ ’£÷Ä’°’∂÷Å’°’¥’°’ø’µ’°’∂’∂’•÷Ä’´ ’∂’•÷Ä’§÷Ä’∏÷Ç’¥',
                    '’è’•’¨’•’¢’™’∑’Ø’∏÷Ç’©’µ’°’∂ ’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’®’∂’§’¨’°’µ’∂’∏÷Ç’¥',
                    '‘±÷Ä’∞’•’Ω’ø’°’Ø’°’∂ ’¢’°’∂’°’Ø’°’∂’∏÷Ç’©’µ’°’∂ ÷Ö’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥ ’°’≠’ø’∏÷Ä’∏’∑’¥’°’∂ ’¥’•’ª',
                    '’Ä’´’æ’°’∂’§’∂’•÷Ä’´ ’Ø’∏’≤’¥’´÷Å ’´’∂÷Ñ’∂’°’¥’∏’∂’´’©’∏÷Ä’´’∂’£’´ ’∞’°’æ’•’¨’æ’°’Æ’∂’•÷Ä',
                    '’è’æ’µ’°’¨’∂’•÷Ä’´ ’°’∂’æ’ø’°’∂’£’∏÷Ç’©’µ’°’∂ ’°’∫’°’∞’∏’æ’∏÷Ç’¥'
                ],
                indicators: ['’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’©’æ’°’µ’∂’°÷Å’¥’°’∂ ’¥’°’Ø’°÷Ä’§’°’Ø', '’∞’´’æ’°’∂’§’∂’•÷Ä’´ ’£’∏’∞’∏÷Ç’∂’°’Ø’∏÷Ç’©’µ’∏÷Ç’∂'],
                risks: ['’ø’•’≠’∂’∏’¨’∏’£’´’°’Ø’°’∂ ’≠’∏÷Å’•’¨’´’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä', '’©’æ’°’µ’´’∂ ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂']
            }
        ],
        quality_of_life: [
            {
                title: '’ç’∏÷Å’´’°’¨’°’Ø’°’∂ ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’©’µ’°’∂ ’∂’æ’°’¶’•÷Å’∏÷Ç’¥',
                description: '‘µ’Ø’°’¥’ø’°’µ’´’∂ ’¢÷á’•’º’°÷Å’∏÷Ç’¥’® ’æ’ø’°’∂’£’∏÷Ç’¥ ’ß ’Ω’∏÷Å’´’°’¨’°’Ø’°’∂ ’Ø’°’µ’∏÷Ç’∂’∏÷Ç’©’µ’∏÷Ç’∂’®',
                category: 'social_equity',
                priority: 'high',
                timeframe: 'long_term',
                actions: [
                    '’ä÷Ä’∏’£÷Ä’•’Ω’´’æ ’∞’°÷Ä’Ø’°’µ’´’∂ ’∞’°’¥’°’Ø’°÷Ä’£’´ ’∂’•÷Ä’§÷Ä’∏÷Ç’¥',
                    '’Ü’æ’°’¶’°’£’∏÷Ç’µ’∂ ’°’∑’≠’°’ø’°’æ’°÷Ä’±’´ ’Ø’°÷Ä’£’°’æ’∏÷Ä’∏÷Ç’¥',
                    '’Ñ’°’ø’π’•’¨’´ ’¢’∂’°’Ø’°÷Ä’°’∂’°’µ’´’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’®’∂’§’¨’°’µ’∂’∏÷Ç’¥',
                    '‘ø÷Ä’©’°’Ø’°’∂ ’∞’∂’°÷Ä’°’æ’∏÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∞’°’æ’°’Ω’°÷Ä’°÷Å’∏÷Ç’¥',
                    '’à÷Ç’∂’´’æ’•÷Ä’Ω’°’¨ ’∞’´’¥’∂’°’Ø’°’∂ ’•’Ø’°’¥’ø’´ ÷É’∏÷Ä’±’°÷Ä’Ø’∏÷Ç’¥'
                ],
                indicators: ['‘≥’´’∂’´ ’£’∏÷Ä’Æ’°’Ø’´÷Å', '’¢’∂’°’Ø’π’∏÷Ç’©’µ’°’∂ ’≠÷Å’Ø’∏÷Ç’©’µ’∏÷Ç’∂’®', '’Ω’∏÷Å’´’°’¨’°’Ø’°’∂ ’∑’°÷Ä’™’∏÷Ç’∂’°’Ø’∏÷Ç’©’µ’∏÷Ç’∂'],
                risks: ['’Ω’∏÷Å’´’°’¨’°’Ø’°’∂ ’°’∂’Ø’°’µ’∏÷Ç’∂’∏÷Ç’©’µ’∏÷Ç’∂', '’∞’°’∂÷Å’°’æ’∏÷Ä’∏÷Ç’©’µ’°’∂ ’°’≥']
            },
            {
                title: '’á÷Ä’ª’°’Ø’° ’¥’´’ª’°’æ’°’µ÷Ä’´ ÷á ’Ø’µ’°’∂÷Ñ’´ ’∏÷Ä’°’Ø’´ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥',
                description: '‘∑’Ø’∏’¨’∏’£’´’°’Ø’°’∂ ÷Å’∏÷Ç÷Å’°’∂’´’∑’∂’•÷Ä’´ ’æ’°’ø’©’°÷Ä’°÷Å’∏÷Ç’¥’® ’°’¶’§’∏÷Ç’¥ ’ß ’∞’°’∂÷Ä’°’µ’´’∂ ’°’º’∏’≤’ª’∏÷Ç’©’µ’°’∂ ’æ÷Ä’°',
                category: 'environmental_quality',
                priority: 'medium',
                timeframe: 'long_term',
                actions: [
                    '’ï’§’´ ’∏÷Ä’°’Ø’´ ’¥’∏’∂’´’©’∏÷Ä’´’∂’£’´ ’∞’°’¥’°’Ø’°÷Ä’£',
                    '‘ø’°’∂’°’π ’ø’°÷Ä’°’Æ÷Ñ’∂’•÷Ä’´ ’®’∂’§’¨’°’µ’∂’∏÷Ç’¥',
                    '’é’•÷Ä’°’Ø’°’∂’£’∂’æ’∏’≤ ’ß’∂’•÷Ä’£’´’°’µ’´ ÷Ö’£’ø’°’£’∏÷Ä’Æ’¥’°’∂ ’≠÷Ä’°’≠’∏÷Ç’Ω’∏÷Ç’¥',
                    '’é’•÷Ä’°’¥’∑’°’Ø’¥’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’∂’•÷Ä’§÷Ä’∏÷Ç’¥',
                    '’Ä’°’∂÷Ä’°’µ’´’∂ ’ø÷Ä’°’∂’Ω’∫’∏÷Ä’ø’´ ’ß’Ø’∏’¨’∏’£’´’°’Ø’°’∂’°÷Å’∏÷Ç’¥'
                ],
                indicators: ['÷Ö’§’´ ’∏÷Ä’°’Ø’´ ÷Å’∏÷Ç÷Å’°’∂’´’∑’∂’•÷Ä', '’Ø’°’∂’°’π ’ø’°÷Ä’°’Æ÷Ñ’∂’•÷Ä’´ ’¥’°’Ø’•÷Ä’•’Ω', '’ß’∂’•÷Ä’£’°÷Ö’£’ø’°’£’∏÷Ä’Æ’¥’°’∂ ’°÷Ä’§’µ’∏÷Ç’∂’°’æ’•’ø’∏÷Ç’©’µ’∏÷Ç’∂'],
                risks: ['’Ø’¨’´’¥’°’µ’°’Ø’°’∂ ÷É’∏÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä', '’ß’Ø’∏’Ω’´’Ω’ø’•’¥’°’µ’´’∂ ’§’•’£÷Ä’°’§’°÷Å’´’°']
            },
            {
                title: '‘π’æ’°’µ’´’∂ ’´’∂’Ø’¨’µ’∏÷Ç’¶’´’æ’∏÷Ç’©’µ’°’∂ ’°’∫’°’∞’∏’æ’∏÷Ç’¥',
                description: '‘π’æ’°’µ’´’∂ ’ø’•’≠’∂’∏’¨’∏’£’´’°’∂’•÷Ä’´ ’ø’°÷Ä’°’Æ’∏÷Ç’¥’® ’Ω’ø’•’≤’Æ’∏÷Ç’¥ ’ß ’∂’∏÷Ä ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä',
                category: 'digital_inclusion',
                priority: 'medium',
                timeframe: 'medium_term',
                actions: [
                    '’É’°’∂’°’∫’°’∞’°’µ’´’∂ ’´’∂’ø’•÷Ä’∂’•’ø’´ ’∞’°’Ω’°’∂’•’¨’´’∏÷Ç’©’µ’°’∂ ’°’∫’°’∞’∏’æ’∏÷Ç’¥',
                    '‘π’æ’°’µ’´’∂ ’£÷Ä’°’¥’∏’ø’∏÷Ç’©’µ’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’∂’•÷Ä’§÷Ä’∏÷Ç’¥',
                    '’Ä’°’∂÷Ä’°’µ’´’∂ ’Ø’°’º’°’æ’°÷Ä’¥’°’∂ ’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’©’æ’°’µ’∂’°÷Å’∏÷Ç’¥',
                    '‘±’æ’°’£ ’∞’°’Ω’°’Ø’°’Ø’°’∂’∂’•÷Ä’´ ’∞’°’¥’°÷Ä ’ø’•’≠’∂’∏’¨’∏’£’´’°’Ø’°’∂ ’°’ª’°’Ø÷Å’∏÷Ç’©’µ’∏÷Ç’∂',
                    '‘∑’¨’•’Ø’ø÷Ä’∏’∂’°’µ’´’∂ ’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’¥’°’ø’π’•’¨’´’∏÷Ç’©’µ’°’∂ ’Ω’ø’°’∂’§’°÷Ä’ø’∂’•÷Ä'
                ],
                indicators: ['’´’∂’ø’•÷Ä’∂’•’ø’´ ’ø’°÷Ä’°’Æ’æ’°’Æ’∏÷Ç’©’µ’∏÷Ç’∂', '’©’æ’°’µ’´’∂ ’£÷Ä’°’¥’∏’ø’∏÷Ç’©’µ’°’∂ ’¥’°’Ø’°÷Ä’§’°’Ø'],
                risks: ['’©’æ’°’µ’´’∂ ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂', '’ø’•’≠’∂’∏’¨’∏’£’´’°’Ø’°’∂ ’Ø’°’≠’æ’°’Æ’∏÷Ç’©’µ’∏÷Ç’∂']
            }
        ],
        educational: [
            {
                title: '‘ø÷Ä’©’°’Ø’°’∂ ’∞’°’¥’°’Ø’°÷Ä’£’´ ’°÷Ä’§’´’°’Ø’°’∂’°÷Å’∏÷Ç’¥',
                description: '21-÷Ä’§ ’§’°÷Ä’´ ’∫’°’∞’°’∂’ª’∂’•÷Ä’´ ’∞’°’¥’°’∫’°’ø’°’Ω’≠’°’∂ ’Ø÷Ä’©’°’Ø’°’∂ ’¥’∏’§’•’¨’´ ’∂’•÷Ä’§÷Ä’∏÷Ç’¥',
                category: 'system_modernization',
                priority: 'high',
                timeframe: 'long_term',
                actions: [
                    'STEM ’Ø÷Ä’©’∏÷Ç’©’µ’°’∂ ’°’¥÷Ä’°’∫’∂’§’∏÷Ç’¥',
                    '‘±’∂’∞’°’ø’°’Ø’°’∂’°÷Å’æ’°’Æ ’∏÷Ç’Ω’∏÷Ç÷Å’¥’°’∂ ’¥’•’©’∏’§’∂’•÷Ä’´ ’∂’•÷Ä’§÷Ä’∏÷Ç’¥',
                    '’à÷Ç’Ω’∏÷Ç÷Å’´’π’∂’•÷Ä’´ ’¥’°’Ω’∂’°’£’´’ø’°’Ø’°’∂ ’¶’°÷Ä’£’°÷Å’¥’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä',
                    '‘π’æ’°’µ’´’∂ ÷Å’°’∂’Ø’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’´’∂’ø’•’£÷Ä’∏÷Ç’¥ ’Æ÷Ä’°’£÷Ä’´ ’¥’•’ª',
                    '‘ø’°’º’∏÷Ç÷Å’æ’°’Æ÷Ñ’°’µ’´’∂ ’£’∂’°’∞’°’ø’¥’°’∂ ’∞’°’¥’°’Ø’°÷Ä’£’´ ’¢’°÷Ä’•÷É’∏’≠’∏÷Ç’¥'
                ],
                indicators: ['’∏÷Ç’Ω’°’∂’∏’≤’∂’•÷Ä’´ ’®’∂’§’∞’°’∂’∏÷Ç÷Ä ’°’º’°’ª’°’§’´’¥’∏÷Ç’©’µ’∏÷Ç’∂', '’∏÷Ç’Ω’∏÷Ç÷Å’´’π’∂’•÷Ä’´ ’∏÷Ä’°’Ø’°’æ’∏÷Ä’∏÷Ç’¥', '’ø’•’≠’∂’∏’¨’∏’£’´’°’Ø’°’∂ ’∞’°’£’•÷Å’æ’°’Æ’∏÷Ç’©’µ’∏÷Ç’∂'],
                risks: ['÷Ü’´’∂’°’∂’Ω’°’Ø’°’∂ ’∫’°’∞’°’∂’ª’∂’•÷Ä', '’∞’°’Ø’°’º’°’Ø’∏÷Ç’©’µ’∏÷Ç’∂ ÷É’∏÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´’∂']
            },
            {
                title: '‘ø’°÷Ä’´’•÷Ä’°’µ’´’∂ ’∏÷Ç’≤’≤’∏÷Ä’§’¥’°’∂ ÷á ’¥’°’Ω’∂’°’£’´’ø’°’Ø’°’∂ ’∫’°’ø÷Ä’°’Ω’ø’¥’°’∂ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥',
                description: '‘±’∑’≠’°’ø’°’∂÷Ñ’°’µ’´’∂ ’∑’∏÷Ç’Ø’°’µ’´ ÷á ’Ø÷Ä’©’°’Ø’°’∂ ’∏÷Å’°’∂’°’Ø’´’∂’•÷Ä’´ ’¥÷Ü’•÷Ä’´ ’∞’¶’∏÷Ä ’¢’°÷Å’°’Ø’∏÷Ç’¥',
                category: 'career_guidance',
                priority: 'medium',
                timeframe: 'medium_term',
                actions: [
                    '’à’π’∏÷Ç’∂’´’∂’∂’•÷Ä’® ’Æ’°’∂’Ø’∏÷Ç’©’µ’°’∂ ’≠’∏÷Ä’∞÷Ä’§’°’ø’æ’°’Ø’°’∂ ’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥',
                    '’à÷Ç’Ω’°’∂’∏’≤’∂’•÷Ä’´ ’°’∑’≠’°’ø’°’∂÷Ñ’°’µ’´’∂ ÷É’∏÷Ä’±’´ ’Æ÷Ä’°’£÷Ä’•÷Ä',
                    '‘≥’•’≤’∏÷Ä’Æ’°÷Ä’°’Ø’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’∞’°’∂÷Å’°’£’∏÷Ä’Æ ’£’∏÷Ä’Æ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∞’•’ø ’∫’°’µ’¥’°’∂’° ÷Å’∏÷Ç÷Å’°’§÷Ä’°’Ø’°’∂',
                    '‘ø’°’º’°’æ’°÷Ä’∏÷Ç’©’µ’°’∂ ÷á ’¥’°’Ω’∂’°’æ’∏÷Ä ’∏’¨’∏’¨’¥’∏÷Ä’•’∂’ø’°’Ø’°’∂ ’∞’°’¥’°’£’∏÷Ä’Æ’°’Ø÷Å’∏÷Ç’©’µ’∏÷Ç’∂',
                    '‘π’°÷Ä’¥ ’¥’°’Ω’∂’°’£’´’ø’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∑’•’≤’´ ’Æ÷Ä’°’£’°’∂’°’Ø’´ ’£÷Ä’•’¨ ÷Å’∏÷Ç’µ÷Å’°’Ø’°÷Ä’£’•÷Ä'
                ],
                indicators: ['’°’æ’°÷Ä’ø’°’Ø’´÷Å’∂’•÷Ä’´ ’£’∏÷Ä’Æ’°’¶÷Ä’Ø’∏÷Ç’©’µ’∏÷Ç’∂', '’¥’°’Ω’∂’°’£’´’ø’°’Ø’°’∂ ’∞’°’¥’°’∫’°’ø’°’Ω’≠’°’∂’∏÷Ç’©’µ’∏÷Ç’∂'],
                risks: ['’Ω’´’°’¨’¢’®’∂’ø’°’Æ’´’∂’•÷Ä’® ’∫’°÷Ä’°’∫’´’ø’•’∂’°’Ø’´ ’£’°’ø’°’Ø’∏÷Ç’¥', '’ø’∂’ø’•’Ω’°’Ø’°’∂ ’Ø’∏’¨’•’Ø’ø’∏’ø’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ÷É’∏÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂']
            },
            {
                title: '‘ø÷Ä’©’°’Ø’°’∂ ’∞’∂’°÷Ä’°’æ’∏÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’©’µ’°’∂ ’°’∫’°’∞’∏’æ’∏÷Ç’¥',
                description: '’ç’∏÷Å’´’°’¨-’ø’∂’ø’•’Ω’°’Ø’°’∂ ’Æ’°’£’¥’°’∂ ’Ø’°’º’°’∂’°’∂’°’Ø’´’Ø’∏÷Ç’¥ ’•’∂ ’Ø÷Ä’ø’°’Ø’°’∂ ’°÷Ä’§’µ’∏÷Ç’∂÷Ñ’∂’•÷Ä’´ ’æ÷Ä’°',
                category: 'educational_equity',
                priority: 'high',
                timeframe: 'long_term',
                actions: [
                    '‘æ’°’º’°’µ’∏÷Ç’©’µ’°’∂ ’∞’°’¥’°÷Ä ’≥’°’∂’Ø’∏÷Ç’©’µ’∏÷Ç’∂ ’£’°÷Ä’°’æ’°÷Ä’∏÷Ç’¥',
                    '’Ü’°’•’Ø’°’∂÷Å’°’µ’´’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’£’∂’°’∂’°’´ ’æ’´’§’°’ø’´÷Ä’°’£’´÷Ä',
                    '’Ä’°’µ’£’°’∂’´ ’°÷Ä’°’´÷Å÷Ä’∏’≤’∂’•÷Ä ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’®’Ω’ø ’∑’°’∞’°’∂’´',
                    '‘±’∂’®’∂’§’¥’∞÷Å’´ ’¢’¨’∏’Ø ’Ω÷Å’°’∂’°÷Ä’°’£’´÷Ä ’ß’æ’ø’°’£’µ’°’º’∏÷Ç’©’µ’∏÷Ç’∂',
                    '’ç’∏÷Å’´’°’¨-’ø’∂’ø’•’Ω’°’Ø’°’∂ ’°’ª’°’Ø÷Å’∏÷Ç’©’µ’°’∂ ’¥’•’≠’°’∂’´’¶’¥’∂’•÷Ä'
                ],
                indicators: ['÷Å’∏÷Ç÷Å’°’Ø’æ÷Å’´ ’¥’•’ø’°’≤’°’Æ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’≥’°’Ø’°’º’°’µ’´’∂ ’¢’°’∑’≠’∏÷Ç’¥', '’≥’°’∂’°’∫’°’∞’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’¥’°’ø’π’•’¨’´’∏÷Ç’©’µ’∏÷Ç’∂'],
                risks: ['’£’°’£’°’æ’°÷Ä’°’Ø’°’∂ ’´’´’°÷Ä’Ω’∏÷Ç’¥’∂’•÷Ä', '’Ω’∏÷Å’´’°’¨’°’Ø’°’∂ ’¥’∏’¢’´’¨’´’¶’°÷Å’´’°’µ’´ ’∫’°’Ø’°’Ω']
            }
        ]
    };

    return scenarioTemplates[dataType] || [];
};

/**
 * ‘±’§’°’∫’ø’´’æ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥ ’°’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ÷á ’Ø’¨’°’Ω’ø’•÷Ä’´’¶’°÷Å’´’°’µ’´ ’∞’´’¥’°’∂ ’æ÷Ä’°
 * @param {string} dataType - ’è’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø
 * @param {Object} fuzzyResults - ‘±’∂’∏÷Ä’∏’∑ ’ø÷Ä’°’¥’°’¢’°’∂’∏÷Ç’©’µ’°’∂ ’°÷Ä’§’µ’∏÷Ç’∂÷Ñ’∂’•÷Ä
 * @param {Array} clusterData - ‘ø’¨’°’Ω’ø’•÷Ä’∂’•÷Ä’´ ’ø’æ’µ’°’¨’∂’•÷Ä
 * @returns {Array} ‘±’§’°’∫’ø’´’æ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä
 */
const createAdaptiveScenarios = (dataType, fuzzyResults, clusterData) => {
    const adaptiveScenarios = [];

    // ‘±’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ’∞’´’¥’°’∂ ’æ÷Ä’° ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä
    if (fuzzyResults) {
        if (fuzzyResults.low > 40) {
            adaptiveScenarios.push(createUncertaintyScenario('high_uncertainty', dataType, fuzzyResults));
        }

        if (fuzzyResults.high > 70) {
            adaptiveScenarios.push(createConfidenceScenario('high_confidence', dataType, fuzzyResults));
        }
    }

    // ‘ø’¨’°’Ω’ø’•÷Ä’´’¶’°÷Å’´’°’µ’´ ’∞’´’¥’°’∂ ’æ÷Ä’° ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä
    if (clusterData && clusterData.length > 0) {
        // ‘Ω’¥’¢’°’æ’∏÷Ä’æ’°’Æ ’¥’∏’ø’•÷Å’¥’°’∂ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä
        adaptiveScenarios.push(createClusterBasedScenario(dataType, clusterData));

        // ’Ö’∏÷Ç÷Ä’°÷Ñ’°’∂’π’µ’∏÷Ç÷Ä ’≠’¥’¢’´ ’∞’°’¥’°÷Ä ’Ø’°’∫’æ’°’Æ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä
        clusterData.forEach((cluster, index) => {
            if (cluster.size > 20) { // ’Ñ’´’°’µ’∂ ’∂’∑’°’∂’°’Ø’°’¨’´ ’π’°÷É’´ ’≠’¥’¢’•÷Ä’´ ’∞’°’¥’°÷Ä
                adaptiveScenarios.push(createTargetedScenario(dataType, cluster, index));
            }
        });
    }

    return adaptiveScenarios;
};

/**
 * ‘±’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ’Ω÷Å’•’∂’°÷Ä’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥
 * @param {string} type - ‘±’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ’ø’•’Ω’°’Ø
 * @param {string} dataType - ’è’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø
 * @param {Object} fuzzyResults - ‘±’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ’°÷Ä’§’µ’∏÷Ç’∂÷Ñ’∂’•÷Ä
 * @returns {Object} ‘±’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ’Ω÷Å’•’∂’°÷Ä
 */
const createUncertaintyScenario = (type, dataType, fuzzyResults) => {
    return {
        title: '‘±’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ’Ø’°’º’°’æ’°÷Ä’¥’°’∂ ’º’°’¶’¥’°’æ’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂',
        description: `’è’æ’µ’°’¨’∂’•÷Ä’´ ${fuzzyResults.low}%-’® ’∏÷Ç’∂’´ ÷Å’°’Æ÷Ä ’æ’Ω’ø’°’∞’∏÷Ç’©’µ’∏÷Ç’∂, ’∏÷Ä’® ’∫’°’∞’°’∂’ª’∏÷Ç’¥ ’ß ’º’´’Ω’Ø-’∞’•’∂’π ’¥’∏’ø’•÷Å’∏÷Ç’¥`,
        category: 'uncertainty_management',
        priority: 'high',
        timeframe: 'short_term',
        adaptive: true,
        uncertaintyLevel: fuzzyResults.low,
        actions: [
            '‘º÷Ä’°÷Å’∏÷Ç÷Å’´’π ’ø’æ’µ’°’¨’∂’•÷Ä’´ ’∞’°’æ’°÷Ñ’¥’°’∂ ’´÷Ä’°’Ø’°’∂’°÷Å’∏÷Ç’¥',
            '‘≤’°’¶’¥’°’Ø’´ ’Ω÷Å’•’∂’°÷Ä’°’µ’´’∂ ’¥’∏’§’•’¨’°’æ’∏÷Ä’¥’°’∂ ’Ø’´÷Ä’°’º’∏÷Ç’¥',
            '’ì’∏÷Ç’¨’°’µ’´’∂ ’∏÷Ä’∏’∑’∏÷Ç’¥’∂’•÷Ä’´ ’Ø’°’º’∏÷Ç÷Å’°’Ø’°÷Ä’£’´ ’≥’£’∂’°’™’°’¥’°’µ’´’∂',
            '’Ñ’∏’∂’´’©’∏÷Ä’´’∂’£’´ ÷á ’°÷Ä’°’£ ’°÷Ä’±’°’£’°’∂÷Ñ’¥’°’∂ ’∞’°’¥’°’Ø’°÷Ä’£',
            '’å’´’Ω’Ø’°’µ’´’∂ ’£’∏÷Ä’£’•÷Å’¥’°’∂ ÷á ’¥’´’ø’´’£’°÷Å’´’°’µ’´ ’∫’¨’°’∂'
        ],
        indicators: ['’ø’æ’µ’°’¨’∂’•÷Ä’´ ’æ’Ω’ø’°’∞’∏÷Ç’©’µ’°’∂ ’¥’°’Ø’°÷Ä’§’°’Ø', '’∏÷Ä’∏’∑’∏÷Ç’¥’∂’•÷Ä’´ ’≥’∑’ø’∏÷Ç’©’µ’∏÷Ç’∂'],
        risks: ['’Ω’≠’°’¨ ’∏÷Ä’∏’∑’∏÷Ç’¥’∂’•÷Ä', '÷É’∏’°’µ’¥’∂’•÷Ä’´ ’∏÷Ç’∑’°÷Å’∏÷Ç’¥'],
        adaptiveNote: `’ç÷Å’•’∂’°÷Ä’® ’Ω’ø’•’≤’Æ’æ’•’¨ ’ß ${fuzzyResults.low}% ÷Å’°’Æ÷Ä ’æ’Ω’ø’°’∞’∏÷Ç’©’µ’°’∂ ’∞’´’¥’°’∂ ’æ÷Ä’°`
    };
};

/**
 * ’é’Ω’ø’°’∞’∏÷Ç’©’µ’°’∂ ’Ω÷Å’•’∂’°÷Ä’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥
 * @param {string} type - ’é’Ω’ø’°’∞’∏÷Ç’©’µ’°’∂ ’ø’•’Ω’°’Ø
 * @param {string} dataType - ’è’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø  
 * @param {Object} fuzzyResults - ’é’Ω’ø’°’∞’∏÷Ç’©’µ’°’∂ ’°÷Ä’§’µ’∏÷Ç’∂÷Ñ’∂’•÷Ä
 * @returns {Object} ’é’Ω’ø’°’∞’∏÷Ç’©’µ’°’∂ ’Ω÷Å’•’∂’°÷Ä
 */
const createConfidenceScenario = (type, dataType, fuzzyResults) => {
    return {
        title: '‘±÷Ä’°’£ ’´÷Ä’°’Ø’°’∂’°÷Å’¥’°’∂ ’º’°’¶’¥’°’æ’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂',
        description: `’è’æ’µ’°’¨’∂’•÷Ä’´ ’¢’°÷Ä’±÷Ä ’∏÷Ä’°’Ø’® (${fuzzyResults.high}% ’æ’Ω’ø’°’∞’∏÷Ç’©’µ’∏÷Ç’∂) ’©’∏÷Ç’µ’¨ ’ß ’ø’°’¨’´’Ω ’°’£÷Ä’•’Ω’´’æ ÷Ñ’°’µ’´’∂ ’´÷Ä’°’Ø’°’∂’°÷Å’∏÷Ç’¥`,
        category: 'rapid_implementation',
        priority: 'medium',
        timeframe: 'short_term',
        adaptive: true,
        confidenceLevel: fuzzyResults.high,
        actions: [
            '‘±÷Ä’°’£ ’∏÷Ä’∏’∑’∏÷Ç’¥’∂’•÷Ä’´ ’Ø’°’µ’°÷Å’¥’°’∂ ’¥’•’≠’°’∂’´’¶’¥',
            '’Ñ’•’Æ ’¥’°’Ω’∑’ø’°’¢’´ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’¥’•’Ø’∂’°÷Ä’Ø',
            '’å’•’Ω’∏÷Ç÷Ä’Ω’∂’•÷Ä’´ ’Ø’∏’∂÷Å’•’∂’ø÷Ä’°÷Å’´’° ’°’º’°’ª’∂’°’µ’´’∂ ’∏÷Ç’≤’≤’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’∏÷Ç’¥',
            '‘±÷Ä’°’£ ’°÷Ä’£’∂’°’Ø’∏÷Ç’¥’∂’•÷Ä’´ ’∂’•÷Ä’§÷Ä’∏÷Ç’¥',
            '‘≤’°’¶’¥’°’Ø’´ ’¶’°÷Ä’°’¨’•’Ø’°÷Å’´’°’µ’´’∂ ’∫÷Ä’∏’µ’•’Ø’ø’∂’•÷Ä’´ ’∞’°’¥’°’£’∏÷Ä’Æ’°’Ø÷Å’∏÷Ç’©’µ’∏÷Ç’∂'
        ],
        indicators: ['’´÷Ä’°’Ø’°’∂’°÷Å’¥’°’∂ ’°÷Ä’°’£’∏÷Ç’©’µ’∏÷Ç’∂', '’º’•’Ω’∏÷Ç÷Ä’Ω’°’µ’´’∂ ’°÷Ä’§’µ’∏÷Ç’∂’°’æ’•’ø’∏÷Ç’©’µ’∏÷Ç’∂'],
        risks: ['÷á’•÷Ä’£’∏’°’∂’£’°’Ø’´’Ω÷Ä’°’∂’∏÷Ç’©’µ’°’∂ ’º’´’Ω’Ø', '’°’µ’¨ ’°’¥÷É’•’°’¶’°’ø’´÷Å’∂’•÷Ä’´ ’°’∂’ø’•’Ω’∏÷Ç’¥'],
        adaptiveNote: `’ç÷Å’•’∂’°÷Ä’® ÷Ö’∫’ø’´’¥’´’¶’°÷Å’æ’•’¨ ’ß ${fuzzyResults.high}% ’æ’Ω’ø’°’∞’∏÷Ç’©’µ’°’∂ ’∞’´’¥’°’∂ ’æ÷Ä’°`
    };
};

/**
 * ‘ø’¨’°’Ω’ø’•÷Ä-’∞’•’∂÷Ñ ’Ω÷Å’•’∂’°÷Ä’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥
 * @param {string} dataType - ’è’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø
 * @param {Array} clusterData - ‘ø’¨’°’Ω’ø’•÷Ä’∂’•÷Ä’´ ’ø’æ’µ’°’¨’∂’•÷Ä
 * @returns {Object} ‘ø’¨’°’Ω’ø’•÷Ä-’∞’•’∂÷Ñ ’Ω÷Å’•’∂’°÷Ä
 */
const createClusterBasedScenario = (dataType, clusterData) => {
    const avgSize = clusterData.reduce((sum, c) => sum + c.size, 0) / clusterData.length;

    return {
        title: '’ç’ø÷Ä’°’ø’´÷Ü’´’Ø’°÷Å’æ’°’Æ ’¥’∏’ø’•÷Å’¥’°’∂ ’´÷Ä’°’Ø’°’∂’°÷Å’∏÷Ç’¥',
        description: `’Ä’°’µ’ø’∂’°’¢’•÷Ä’æ’°’Æ ${clusterData.length} ’ø’°÷Ä’¢’•÷Ä ’≠’∏÷Ç’¥’¢’® ’∫’°’∞’°’∂’ª’∏÷Ç’¥ ’ß ’∂’∫’°’ø’°’Ø’°’µ’´’∂ ÷Ñ’°’≤’°÷Ñ’°’Ø’°’∂’∏÷Ç’©’µ’∏÷Ç’∂`,
        category: 'targeted_approach',
        priority: 'medium',
        timeframe: 'medium_term',
        adaptive: true,
        clusterCount: clusterData.length,
        actions: [
            `${clusterData.length} ’ø’°÷Ä’¢’•÷Ä ’≠’¥’¢’´ ’∞’°’¥’°÷Ä ’∞’°’ø’∏÷Ç’Ø ’Æ÷Ä’°’£÷Ä’•÷Ä`,
            '‘Ω’¥’¢’°’µ’°’æ’∏÷Ä-’¨’°÷Ä’¥’°÷Ä’•÷Å’æ’°’Æ ’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’¥’∑’°’Ø’∏÷Ç’¥',
            '‘≤’°’∂’°’Ø÷Å’°’µ’´’∂ ’º’•’Ω’∏÷Ç÷Ä’Ω÷Ä’•÷Ä’´ ’¢’°’∑’≠’¥’°’∂ ÷Ö’∫’ø’´’¥’´’¶’°÷Å’∏÷Ç’¥',
            '‘Ω’¥’¢’•÷Ä’´ ’¥’´’ª÷á ’Ω’´’∂’•’£÷Ä’´’°’µ’´ ’Ω’ø’•’≤’Æ’¥’°’∂ ’£÷Ä’æ’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂',
            '’Ä’°’ø’æ’°’º’°’Ø’°’µ’´’∂ ’¥’∏’∂’´’©’∏÷Ä’´’∂’£’´ ÷á ’£’∂’°’∞’°’ø’¥’°’∂ ’∞’°’¥’°’Ø’°÷Ä’£'
        ],
        indicators: ['’≠’¥’¢’°’µ’°’æ’∏÷Ä ’£’∏’∞’∏÷Ç’∂’°’Ø’∏÷Ç’©’µ’∏÷Ç’∂', '’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’°÷Ä’§’µ’∏÷Ç’∂’°’æ’•’ø’∏÷Ç’©’µ’∏÷Ç’∂'],
        risks: ['’æ’°÷Ä’π’°’Ø’°’∂ ’¢’°÷Ä’§’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’°’≥', '’≠’¥’¢’•÷Ä’´ ’¥’´’ª÷á ’°’∂◊î’°’æ’°’Ω’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂'],
        adaptiveNote: `’é’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’∏÷Ç’∂’® ’¢’°÷Å’°’∞’°’µ’ø’•’¨ ’ß ${clusterData.length} ’ø÷Ä’°’¥’°’§÷Ä’µ’∏÷Ç’™ ’≠’∏÷Ç’¥’¢`
    };
};

/**
 * ’Ü’∫’°’ø’°’Ø’°’µ’´’∂ ’Ω÷Å’•’∂’°÷Ä’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥ ’Ø’∏’∂’Ø÷Ä’•’ø ’≠’¥’¢’´ ’∞’°’¥’°÷Ä
 * @param {string} dataType - ’è’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø
 * @param {Object} cluster - ‘ø’¨’°’Ω’ø’•÷Ä’´ ’ø’æ’µ’°’¨’∂’•÷Ä
 * @param {number} index - ‘ø’¨’°’Ω’ø’•÷Ä’´ ’´’∂’§’•÷Ñ’Ω
 * @returns {Object} ’Ü’∫’°’ø’°’Ø’°’µ’´’∂ ’Ω÷Å’•’∂’°÷Ä
 */
const createTargetedScenario = (dataType, cluster, index) => {
    return {
        title: `"${cluster.label}" ’≠’¥’¢’´ ’∞’°’ø’∏÷Ç’Ø ÷Å’∂’∂’∏÷Ç’¥`,
        description: `${cluster.size} ’¥’°’Ω’∂’°’Ø’´÷Å’∂’•÷Ä ’∏÷Ç’∂’•÷Å’∏’≤ ’≠’¥’∂’∏÷Ç’¥ ’∫’°’∞’°’∂’ª’∏÷Ç’¥ ’ß ’∞’°’ø’∏÷Ç’Ø ’¥’∏’ø’•÷Å’∏÷Ç’¥`,
        category: 'group_specific',
        priority: cluster.size > 50 ? 'high' : 'medium',
        timeframe: 'medium_term',
        adaptive: true,
        targetGroup: cluster.label,
        groupSize: cluster.size,
        actions: [
            `${cluster.label} ’≠’¥’¢’´ ’Ø’°÷Ä’´÷Ñ’∂’•÷Ä’´ ’≠’∏÷Ä ’£’∂’°’∞’°’ø’∏÷Ç’¥`,
            '‘Ω’¥’¢’°’¥’´’ø ’™’•’ø’•÷Å ’¨’∏÷Ç’Æ’∏÷Ç’°’∂’∂’•÷Ä’´ ’¥’∑’°’Ø’∏÷Ç’¥',
            '’â’¨’°’µ’°’¶’´ ’¥’°’Ω’∂’°’Ø÷Å’∏÷Ç’©’µ’°’∂ ’°’∂’£’°’¥ ’£’∏÷Ä’Æ’®’∂’©’°÷Å’´’∂',
            '’ä’´’´’¨’∏’ø ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ÷É’∏÷Ä’°’∂’Ø’∏÷Ç’¥ ${cluster.label} ’≠’¥’¢’∏÷Ç’¥',
            '‘±÷Ä’§’µ’∏÷Ç’∂÷Ñ’∂’•÷Ä’´ ’´’®’∂’•÷Ä’©’°’Ø’°’∂’°’∫’∏÷Ç’¥’°’µ’´ ’°’µ’¨ ’≠’¥’¢’•÷Ä’´'
        ],
        indicators: [`${cluster.label} ’≠’¥’¢’´ ’£’∏’∞’∏÷Ç’∂’°’Ø’∏÷Ç’©’µ’∏÷Ç’∂`, '’∂’∫’°’ø’°’Ø’°’µ’´’∂ ’¢÷Ç’≤’£’°’∂’∂’•÷Ä’´ ’∞’°’Ω’°’∂’•’¨’´’∏÷Ç’©’µ’∏÷Ç’∂'],
        risks: ['’≠’¥’¢’´ ’∂’•÷Ä’Ω’∏÷Ç’¥ ’∞’•’ø’•÷Ä’∏’£’•’∂ ’∫’°’∞’°’∂’ª’°’Ø’´’∏÷Ç’©’µ’∏÷Ç’∂÷Å', '’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’® ’≠’∏÷Ç’Ω’°÷É’•’¨’∏÷Ç’©’µ’∏÷Ç’∂'],
        adaptiveNote: `’ç÷Å’•’∂’°÷Ä’® ’¥’∑’°’Ø’æ’•’¨ ’ß "${cluster.label}" ’≠’¥’¢’´ (${cluster.size} ’¥’°’Ω’∂’°’Ø’´÷Å’Ω’ø) ’∞’°’¥’°÷Ä`
    };
};

/**
 * ’ç÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’°’º’°’ª’∂’°’∞’•÷Ä’©’∏÷Ç’©’µ’°’∂ ’Ω’∏÷Ä’ø’°’æ’∏÷Ä’∏÷Ç’¥
 * @param {Array} scenarios - ’ç÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’Ø
 * @param {Object} fuzzyResults - ‘±’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ’°÷Ä’§’µ’∏÷Ç’∂÷Ñ’∂’•÷Ä
 * @returns {Array} ’ç’∏÷Ä’ø’°’æ’∏÷Ä’æ’°’Æ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä
 */
const prioritizeScenarios = (scenarios, fuzzyResults) => {
    return scenarios.sort((a, b) => {
        // ‘±’º’°’ª’∂’°’∞’•÷Ä’©’∏÷Ç’©’µ’°’∂ ’¥’°’ø’∏÷Ç÷Å’∏÷Ç’¥
        const priorityOrder = { 'high': 3, 'medium': 2, 'low': 1 };
        const priorityDiff = priorityOrder[b.priority] - priorityOrder[a.priority];

        if (priorityDiff !== 0) return priorityDiff;

        // ‘±’§’°’∫’ø’´’æ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’°’º’°’ª’∂’°’∞’•÷Ä’©’∏÷Ç’©’µ’∏÷Ç’∂
        if (a.adaptive && !b.adaptive) return -1;
        if (!a.adaptive && b.adaptive) return 1;

        // ‘±’∂’∏÷Ä’∏’∑’∏÷Ç’©’µ’°’∂ ’¥’°’Ø’°÷Ä’§’°’Ø’´ ’∞’°’∑’æ’´ ’°’º’∂’∏÷Ç’¥
        if (fuzzyResults && fuzzyResults.low > 30) {
            if (a.category === 'uncertainty_management') return -1;
            if (b.category === 'uncertainty_management') return 1;
        }

        return 0;
    });
};

/**
 * ’ç÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’æ’•÷Ä’ª’∂’°’Ø’°’∂ ’¥’∑’°’Ø’∏÷Ç’¥
 * @param {Array} scenarios - ’ç÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’Ø
 * @returns {Array} ’é’•÷Ä’ª’∂’°’Ø’°’∂ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä
 */
const finalizeScenarios = (scenarios) => {
    return scenarios.slice(0, 5).map((scenario, index) => {
        // ‘±’º’°’ª’∂’°’∞’•÷Ä’©’∏÷Ç’©’µ’°’∂ ’ø’•÷Ñ’Ω’ø’´ ’≥’∑’£÷Ä’ø’∏÷Ç’¥
        const priorityTexts = {
            'high': '‘≤‘±’ê’Å’ê ‘ø‘±’ê‘µ’é’à’ê’à’í‘π’Ö’à’í’Ü',
            'medium': '’Ñ‘ª’ã‘ª’Ü ‘ø‘±’ê‘µ’é’à’ê’à’í‘π’Ö’à’í’Ü',
            'low': '’ë‘±‘æ’ê ‘ø‘±’ê‘µ’é’à’ê’à’í‘π’Ö’à’í’Ü'
        };

        return {
            ...scenario,
            priorityText: priorityTexts[scenario.priority],
            id: index + 1,
            // ‘∫’°’¥’°’∂’°’Ø’°’µ’´’∂ ’∑÷Ä’ª’°’∂’°’Ø’´ ’∞’°’µ’•÷Ä’•’∂ ’©’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂
            timeframeText: {
                'short_term': '‘ø’°÷Ä’≥’°’™’°’¥’Ø’•’ø (3-6 ’°’¥’´’Ω)',
                'medium_term': '’Ñ’´’ª’∂’°’™’°’¥’Ø’•’ø (6-18 ’°’¥’´’Ω)',
                'long_term': '‘µ÷Ä’Ø’°÷Ä’°’™’°’¥’Ø’•’ø (1-3 ’ø’°÷Ä’´)'
            }[scenario.timeframe] || scenario.timeframe,

            // ’Ñ’•’ø’°’§’°’ø’°÷Ä’∂’•÷Ä’´ ’∞’°÷Ä’Ω’ø’°÷Å’∏÷Ç’¥
            metadata: {
                generatedAt: new Date().toISOString(),
                dataType: scenario.dataType || 'unknown',
                confidence: scenario.confidenceLevel || null,
                uncertainty: scenario.uncertaintyLevel || null,
                adaptive: scenario.adaptive || false
            }
        };
    });
};

/**
 * ’ä’°÷Ä’¶ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä ’Ω’≠’°’¨’´ ’§’•’∫÷Ñ’∏÷Ç’¥
 * @param {string} dataType - ’è’æ’µ’°’¨’∂’•÷Ä’´ ’ø’•’Ω’°’Ø  
 * @returns {Array} ’ä’°÷Ä’¶ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä
 */
const getFallbackScenarios = (dataType) => {
    return [
        {
            title: '‘∏’∂’§’∞’°’∂’∏÷Ç÷Ä ’¢’°÷Ä’•’¨’°’æ’¥’°’∂ ’Æ÷Ä’°’£’´÷Ä',
            description: '’è’æ’µ’°’¨’∂’•÷Ä’´ ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’°’∂ ’∞’´’¥’°’∂ ’æ÷Ä’° ’°’º’°’ª’°÷Ä’Ø’æ’∏’≤ ’∞’´’¥’∂’°’Ø’°’∂ ’¥’∏’ø’•÷Å’∏÷Ç’¥’∂’•÷Ä',
            category: 'general_improvement',
            priority: 'medium',
            priorityText: '’Ñ‘ª’ã‘ª’Ü ‘ø‘±’ê‘µ’é’à’ê’à’í‘π’Ö’à’í’Ü',
            timeframe: 'medium_term',
            timeframeText: '’Ñ’´’ª’∂’°’™’°’¥’Ø’•’ø (6-18 ’°’¥’´’Ω)',
            actions: [
                '’è’æ’µ’°’¨’∂’•÷Ä’´ ’∞’°’æ’°÷Ñ’¥’°’∂ ’¥’•’©’∏’§’°’¢’°’∂’∏÷Ç’©’µ’°’∂ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥',
                '’Ä’•’ø’°’¶’∏’ø’°’Ø’°’∂ ’£’∏÷Ä’Æ’∏÷Ç’∂’•’∏÷Ç’©’µ’°’∂ ’´÷Ä’°’Ø’°’∂’°÷Å’∏÷Ç’¥',
                '’á’°’∞’°’º’∏÷Ç’∂’•÷Ä’´ ’Æ÷Ä’°’£÷Ä’´÷Ä ’£’∏÷Ç’∂’∏÷Ç’µ’Ø’£’´÷Å’´’∂',
                '’ì’∏÷Ç’¨’°’µ’´’∂ ’´÷Ä’°’Ø’°’∂’°÷Å’¥’°’∂ ’£’°’∞’Æ’´ ’¥’∑’°’Ø’∏÷Ç’¥',
                '’Ñ’∏’∂’´’©’∏÷Ä’´’∂’£’´ ÷á ’£’∂’°’∞’°’ø’¥’°’∂ ’∞’°’¥’°’Ø’°÷Ä’£’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥'
            ],
            indicators: ['’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’´÷Ä’°’Ø’°’∂’°÷Å’¥’°’∂ ’¥’°’Ø’°÷Ä’§’°’Ø', '’∑’°’∞’°’º’∏÷Ç’∂’•÷Ä’´ ’£’∏’∞’∏÷Ç’∂’°’Ø’∏÷Ç’©’µ’∏÷Ç’∂'],
            risks: ['’¢’µ’∏÷Ç’ª’•’ø’°’µ’´’∂ ’Ω’°’∞’¥’°’∂’°÷É’°’Ø’∏÷Ç’¥’∂’•÷Ä', '÷É’∏÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´’∂ ’∞’°’Ø’°’º’°’Ø’∏÷Ç’©’µ’∏÷Ç’∂'],
            id: 1,
            metadata: {
                generatedAt: new Date().toISOString(),
                dataType: dataType,
                fallback: true
            }
        }
    ];
};

// // src/utils/aiScenarioGenerator.js
// // Fixed AI-’∞’•’∂÷Å ’∏÷Ä’∏’∑’∏÷Ç’¥’°’µ’´’∂ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’£’•’∂’•÷Ä’°÷Å’´’°
// import axios from 'axios';

// /**
//  * AI-’´ ’¥’´’ª’∏÷Å’∏’æ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’£’•’∂’•÷Ä’°÷Å’´’° - FIXED VERSION
//  */
// export const generateAIScenarios = async (dataType, analysisResults, clusterData = null, contextData = {}, userId = 1) => {
//     console.log('üîç AI Scenario Generation Started');
//     console.log('üìä Input Data:', { dataType, analysisResults, clusterData, contextData, userId });

//     try {
//         // 1. Build comprehensive context prompt
//         console.log('üìù Building context prompt...');
//         const contextPrompt = buildContextPrompt(dataType, analysisResults, clusterData, contextData);
//         console.log('üìÑ Generated prompt length:', contextPrompt.length);
        
//         // 2. Make single AI request for all scenarios
//         console.log('ü§ñ Making single comprehensive AI request...');
//         const aiScenarios = await requestScenariosFromAI(contextPrompt, dataType, clusterData, userId);
//         console.log('‚úÖ AI Response received:', aiScenarios);
        
//         // 3. Validate and process all scenarios
//         if (!aiScenarios || aiScenarios.length === 0) {
//             console.warn('‚ö†Ô∏è AI returned no scenarios, using fallback');
//             return await getFallbackAIScenarios(dataType, analysisResults, userId);
//         }

//         console.log('üîÑ Processing all scenarios...');
//         const processedScenarios = await validateAndEnrichScenarios(aiScenarios, analysisResults);
//         console.log('‚úÖ Processed scenarios:', processedScenarios);
        
//         // 4. Finalize scenarios
//         const finalScenarios = finalizeAIScenarios(processedScenarios);
//         console.log('üéâ Final scenarios ready:', finalScenarios);
        
//         return finalScenarios;
        
//     } catch (error) {
//         console.error('‚ùå AI Scenario Generation Error:', error);
//         console.log('üîÑ Attempting fallback scenarios...');
        
//         try {
//             return await getFallbackAIScenarios(dataType, analysisResults, userId);
//         } catch (fallbackError) {
//             console.error('‚ùå Fallback also failed:', fallbackError);
//             return getHardcodedFallbackScenarios(dataType, analysisResults);
//         }
//     }
// };

// /**
//  * FIXED: AI-’´ ’∞’°’¥’°÷Ä ’Ø’∏’∂’ø’•÷Ñ’Ω’ø’°’µ’´’∂ ’∫÷Ä’∏’¥’∫’ø’´ ’Ø’°’º’∏÷Ç÷Å’∏÷Ç’¥
//  */
// const buildContextPrompt = (dataType, analysisResults, clusterData, contextData) => {
//     const dataTypeTranslations = {
//         demographic: '’§’•’¥’∏’£÷Ä’°÷Ü’´’°’Ø’°’∂',
//         healthcare: '’°’º’∏’≤’ª’°’∫’°’∞’°’Ø’°’∂', 
//         quality_of_life: '’Ø’µ’°’∂÷Ñ’´ ’∏÷Ä’°’Ø’´',
//         educational: '’Ø÷Ä’©’°’Ø’°’∂'
//     };

//     let prompt = `‘¥’∏÷Ç ÷É’∏÷Ä’±’°’£’•’ø ÷Ñ’°’≤’°÷Ñ’°’Ø’°’∂’∏÷Ç’©’µ’°’∂ ’æ’•÷Ä’¨’∏÷Ç’Æ’°’¢’°’∂ ’•’Ω÷â ’ç’ø’•’≤’Æ’´÷Ä 5 ‘ø’à’Ü‘ø’ê‘µ’è ${dataTypeTranslations[dataType] || dataType} ’¢’°÷Ä’•’¨’°’æ’¥’°’∂ ’Æ÷Ä’°’£’´÷Ä ‘ø’∏’ø’°’µ÷Ñ’´ ’¥’°÷Ä’¶’´ ’∞’°’¥’°÷Ä÷â

// ‘ø‘±’ê‘µ’é’à’ê: ‘≥’∏÷Ä’Æ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’® ’∫’•’ø÷Ñ ’ß ’¨’´’∂’•’∂ ‘ª’ê‘±‘ø‘±’Ü ÷á ‘ø’à’Ü‘ø’ê‘µ’è, ’∏’π ’©’• ’®’∂’§’∞’°’∂’∏÷Ç÷Ä÷â

// ’è’é’Ö‘±‘º’Ü‘µ’ê:`;

//     // Simplified cluster data addition
//     if (clusterData && Array.isArray(clusterData) && clusterData.length > 0) {
//         prompt += `\n’Ñ’°÷Ä’¶’∏÷Ç’¥ ’∞’°’µ’ø’∂’°’¢’•÷Ä’æ’°’Æ ’≠’¥’¢’•÷Ä:\n`;
//         clusterData.forEach(cluster => {
//             if (cluster && cluster.label && cluster.size) {
//                 prompt += `‚Ä¢ ${cluster.label}: ${cluster.size} ’¥’°÷Ä’§\n`;
//             }
//         });
//     }

//     if (contextData.budget) {
//         prompt += `\n‘≤’µ’∏÷Ç’ª’•’ø: ${contextData.budget}`;
//     }

//     // Fixed JSON example format to avoid parsing issues
//     prompt += `

// ’ä’°’ø’°’Ω’≠’°’∂’´÷Ä ’Ñ‘ª‘±’Ö’Ü JSON array ÷Ü’∏÷Ä’¥’°’ø’∏’æ (’°’º’°’∂÷Å markdown backticks):

// [
//   {
//     "title": "’ë’°’Æ÷Ä ’•’Ø’°’¥’∏÷Ç’ø ’∏÷Ç’∂’•÷Å’∏’≤ ’®’∂’ø’°’∂’´÷Ñ’∂’•÷Ä’´ ’Ω’∏÷Å’´’°’¨’°’Ø’°’∂ ’°’ª’°’Ø÷Å’∏÷Ç’©’µ’∏÷Ç’∂",
//     "description": "‘ø’∏’ø’°’µ÷Ñ’´ ’¥’°÷Ä’¶’∏÷Ç’¥ ÷Å’°’Æ÷Ä ’•’Ø’°’¥’∏÷Ç’ø ’∏÷Ç’∂’•÷Å’∏’≤ ’®’∂’ø’°’∂’´÷Ñ’∂’•÷Ä’´ ’Ø’µ’°’∂÷Ñ’´ ’∏÷Ä’°’Ø’´ ’¢’°÷Ä’•’¨’°’æ’¥’°’∂ ’∞’°’¥’°’Ø’°÷Ä’£",
//     "category": "social_support",
//     "priority": "high",
//     "timeframe": "short_term",
//     "actions": ["’ë’°’Æ÷Ä ’•’Ø’°’¥’∏÷Ç’ø ’∏÷Ç’∂’•÷Å’∏’≤ ’®’∂’ø’°’∂’´÷Ñ’∂’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’Ø’´ ’Ø’°’¶’¥’∏÷Ç’¥", "‘±’¥’Ω’°’Ø’°’∂ 50,000 ’§÷Ä’°’¥ ’Ω’∂’∂’§’°’µ’´’∂ ÷Ö’£’∂’∏÷Ç’©’µ’∏÷Ç’∂", "‘µ÷Ä’•’≠’°’∂’•÷Ä’´ ’∞’°’¥’°÷Ä ’°’∂’æ’≥’°÷Ä ’§’∫÷Ä’∏÷Å’°’Ø’°’∂ ’∫’°÷Ä’°’£’°’∂’•÷Ä"],
//     "indicators": ["÷Ö’£’∂’∏÷Ç’©’µ’∏÷Ç’∂ ’Ω’ø’°÷Å’∏’≤ ’®’∂’ø’°’∂’´÷Ñ’∂’•÷Ä’´ ÷Ñ’°’∂’°’Ø", "’•’Ø’°’¥’ø’´ ’°’≥"],
//     "risks": ["’¢’µ’∏÷Ç’ª’•’ø’´ ’°’∂’¢’°’æ’°÷Ä’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂", "’Ø’•’≤’Æ ’∞’°’µ’ø’•÷Ä’´ ’º’´’Ω’Ø"],
//     "estimatedBudget": "2-3 ’¥’´’¨’´’∏’∂ ’§÷Ä’°’¥",
//     "expectedOutcomes": ["150 ’®’∂’ø’°’∂’´÷Ñ ÷Ö’£’∂’∏÷Ç’©’µ’∏÷Ç’∂ ’Ø’Ω’ø’°’∂’°", "’•÷Ä’•’≠’°’∂’•÷Ä’´ ’Ø÷Ä’©’°’Ø’°’∂ ÷Å’∏÷Ç÷Å’°’∂’´’∑’∂’•÷Ä’´ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥"]
//   }
// ]

// ’ç’ø’•’≤’Æ’´÷Ä 5 ’∂’¥’°’∂ ’Ω÷Å’•’∂’°÷Ä JSON array ÷Ü’∏÷Ä’¥’°’ø’∏’æ:`;

//     return prompt;
// };

// /**
//  * FIXED: AI-’´÷Å ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’∫’°’∞’°’∂’ª’∏÷Ç’¥ with better error handling
//  */
// const requestScenariosFromAI = async (prompt, dataType, clusterData = null, userId = 1) => {
//     console.log('üåê Making AI request...');
//     console.log('üìç URL: http://localhost:6001/api/v1/ai/ask');
//     console.log('üë§ User ID:', userId);
    
//     try {
//         const requestData = {
//             text: prompt,
//             userId: userId,
//             clusters: clusterData || []
//         };
        
//         console.log('üì§ Request payload:', {
//             textLength: prompt.length,
//             userId,
//             clustersCount: (clusterData || []).length
//         });

//         // Create axios instance with proper configuration
//         const axiosInstance = axios.create({
//             timeout: 30000, // Reduced timeout to 30 seconds
//             headers: {
//                 'Content-Type': 'application/json',
//             }
//         });

//         const response = await axiosInstance.post('http://localhost:6001/api/v1/ai/ask', requestData);

//         console.log('üì• Response status:', response.status);
//         console.log('üì• Response headers:', response.headers);

//         // Better response validation
//         if (!response.data) {
//             throw new Error('Empty response data from AI API');
//         }

//         if (!response.data.reply) {
//             console.error('Invalid response structure:', response.data);
//             throw new Error('Invalid response format: missing reply field');
//         }

//         const aiResponse = response.data.reply;
//         console.log('ü§ñ AI Reply length:', aiResponse.length);
//         console.log('ü§ñ AI Reply preview:', aiResponse.substring(0, 200) + '...');
        
//         // Extract scenarios from the response
//         const extractedScenarios = extractJSONFromResponse(aiResponse);
        
//         if (!extractedScenarios || extractedScenarios.length === 0) {
//             console.warn('‚ö†Ô∏è No valid scenarios extracted from AI response');
//             console.log('üìÑ Full AI response for debugging:', aiResponse);
//             throw new Error('No valid scenarios could be extracted from AI response');
//         }
        
//         console.log(`‚úÖ Successfully extracted ${extractedScenarios.length} scenarios`);
//         return extractedScenarios;
        
//     } catch (error) {
//         console.error('‚ùå AI API Request failed:');
        
//         // Better error categorization
//         if (axios.isAxiosError(error)) {
//             if (error.response) {
//                 // Server responded with error status
//                 console.error('Server Error:', {
//                     status: error.response.status,
//                     statusText: error.response.statusText,
//                     data: error.response.data
//                 });
//                 throw new Error(`AI API Server Error: ${error.response.status} - ${error.response.statusText}`);
//             } else if (error.request) {
//                 // Request was made but no response received
//                 console.error('Network Error: No response received');
//                 console.error('Request details:', error.request);
//                 throw new Error('AI API Network Error: No response from server');
//             } else {
//                 // Request setup error
//                 console.error('Request Setup Error:', error.message);
//                 throw new Error(`AI API Request Error: ${error.message}`);
//             }
//         } else {
//             // Non-axios error
//             console.error('Unexpected error:', error);
//             throw new Error(`Unexpected error: ${error.message}`);
//         }
//     }
// };

// /**
//  * FIXED: Enhanced JSON extraction with simplified regex patterns
//  */
// const extractJSONFromResponse = (text) => {
//     console.log('üîç Extracting JSON from AI response...');
//     console.log('üìÑ Response length:', text.length);
//     console.log('üìÑ First 300 chars:', text.substring(0, 300));
    
//     const jsonBlocks = [];
//     let cleanedText = text.trim();
    
//     try {
//         // Method 1: Try to parse the entire response as JSON first
//         if ((cleanedText.startsWith('[') && cleanedText.endsWith(']')) || 
//             (cleanedText.startsWith('{') && cleanedText.endsWith('}'))) {
//             console.log('üîç Trying to parse entire response as JSON...');
//             try {
//                 const parsed = JSON.parse(cleanedText);
//                 if (Array.isArray(parsed)) {
//                     parsed.forEach(scenario => {
//                         const fixedScenario = fixScenarioStructure(scenario);
//                         jsonBlocks.push(fixedScenario);
//                     });
//                     console.log(`‚úÖ Successfully parsed entire response as JSON array with ${jsonBlocks.length} scenarios`);
//                     return jsonBlocks;
//                 } else if (typeof parsed === 'object') {
//                     const fixedScenario = fixScenarioStructure(parsed);
//                     jsonBlocks.push(fixedScenario);
//                     console.log('‚úÖ Successfully parsed entire response as single JSON object');
//                     return jsonBlocks;
//                 }
//             } catch (parseError) {
//                 console.log('‚ö†Ô∏è Failed to parse entire response as JSON:', parseError.message);
//             }
//         }
        
//         // Method 2: Look for JSON arrays in code blocks
//         const codeBlockArrayPattern = /```(?:json)?\s*(\[\s*\{[\s\S]*?\}\s*\])\s*```/gi;
//         let match = codeBlockArrayPattern.exec(cleanedText);
        
//         if (match) {
//             console.log('üîç Found JSON array in code block...');
//             try {
//                 const jsonArrayString = match[1].trim();
//                 const parsedArray = JSON.parse(jsonArrayString);
//                 if (Array.isArray(parsedArray)) {
//                     parsedArray.forEach(scenario => {
//                         const fixedScenario = fixScenarioStructure(scenario);
//                         jsonBlocks.push(fixedScenario);
//                     });
//                     console.log(`‚úÖ Successfully extracted ${jsonBlocks.length} scenarios from code block array`);
//                     return jsonBlocks;
//                 }
//             } catch (parseError) {
//                 console.warn('‚ö†Ô∏è Failed to parse JSON array from code block:', parseError.message);
//             }
//         }
        
//         // Method 3: Look for standalone JSON arrays (without code blocks)
//         const standaloneArrayPattern = /\[\s*\{[\s\S]*?\}\s*\]/g;
//         const arrayMatches = cleanedText.match(standaloneArrayPattern);
        
//         if (arrayMatches && arrayMatches.length > 0) {
//             console.log(`üîç Found ${arrayMatches.length} potential JSON arrays...`);
//             for (const arrayMatch of arrayMatches) {
//                 try {
//                     const parsed = JSON.parse(arrayMatch);
//                     if (Array.isArray(parsed)) {
//                         parsed.forEach(scenario => {
//                             const fixedScenario = fixScenarioStructure(scenario);
//                             jsonBlocks.push(fixedScenario);
//                         });
//                         console.log(`‚úÖ Successfully parsed JSON array with ${parsed.length} scenarios`);
//                         if (jsonBlocks.length >= 5) break; // Stop after finding enough scenarios
//                     }
//                 } catch (parseError) {
//                     console.log('‚ö†Ô∏è Failed to parse potential JSON array:', parseError.message);
//                 }
//             }
//         }
        
//         // Method 4: Look for individual JSON objects
//         if (jsonBlocks.length === 0) {
//             console.log('üîç Looking for individual JSON objects...');
//             const objectPattern = /\{[^{}]*(?:\{[^{}]*\}[^{}]*)*\}/g;
//             let objectMatch;
            
//             while ((objectMatch = objectPattern.exec(cleanedText)) !== null && jsonBlocks.length < 5) {
//                 try {
//                     const parsed = JSON.parse(objectMatch[0]);
//                     if (parsed.title || parsed.description) { // Basic validation
//                         const fixedScenario = fixScenarioStructure(parsed);
//                         jsonBlocks.push(fixedScenario);
//                         console.log('‚úÖ Found and parsed individual JSON object');
//                     }
//                 } catch (parseError) {
//                     console.log('‚ö†Ô∏è Failed to parse individual JSON object:', parseError.message);
//                 }
//             }
//         }
        
//     } catch (error) {
//         console.error('‚ùå Critical error during JSON extraction:', error);
//     }
    
//     console.log(`üéâ Total extracted ${jsonBlocks.length} scenarios from AI response`);
//     return jsonBlocks;
// };

// /**
//  * FIXED: Better scenario structure validation and fixing
//  */
// const fixScenarioStructure = (scenario) => {
//     if (!scenario || typeof scenario !== 'object') {
//         console.warn('‚ö†Ô∏è Invalid scenario object provided to fixScenarioStructure');
//         return null;
//     }
    
//     const fixed = { ...scenario };
    
//     // Ensure required fields exist with safe defaults
//     fixed.title = scenario.title || '‘±’∂’°’∂’∏÷Ç’∂ ’Ω÷Å’•’∂’°÷Ä';
//     fixed.description = scenario.description || '’Ü’Ø’°÷Ä’°’£÷Ä’∏÷Ç’©’µ’∏÷Ç’∂ ’¢’°÷Å’°’Ø’°’µ’∏÷Ç’¥ ’ß';
//     fixed.category = scenario.category || 'general';
//     fixed.priority = ['high', 'medium', 'low'].includes(scenario.priority) ? scenario.priority : 'medium';
//     fixed.timeframe = ['short_term', 'medium_term', 'long_term'].includes(scenario.timeframe) ? scenario.timeframe : 'medium_term';
    
//     // Safely convert arrays with better error handling
//     fixed.actions = ensureArray(scenario.actions, []);
//     fixed.indicators = ensureArray(scenario.indicators, []);
//     fixed.risks = ensureArray(scenario.risks, []);
//     fixed.expectedOutcomes = ensureArray(scenario.expectedOutcomes, []);
    
//     // Ensure estimatedBudget is a string
//     fixed.estimatedBudget = String(scenario.estimatedBudget || '’â’∑’°’∞÷Å’æ’°’Æ');
    
//     console.log('üîß Fixed scenario structure for:', fixed.title);
//     return fixed;
// };

// /**
//  * HELPER: Safely ensure a value is an array
//  */
// const ensureArray = (value, defaultValue = []) => {
//     if (Array.isArray(value)) {
//         return value.filter(item => item && String(item).trim()); // Remove empty items
//     }
    
//     if (typeof value === 'string' && value.trim()) {
//         // Try to split by common delimiters
//         return value.split(/[,ÿå\n|]/).map(item => item.trim()).filter(item => item);
//     }
    
//     if (value && typeof value === 'object') {
//         // If it's an object, try to extract values
//         return Object.values(value).filter(item => item && String(item).trim());
//     }
    
//     return defaultValue;
// };

// /**
//  * FIXED: Better validation and enrichment
//  */
// const validateAndEnrichScenarios = async (scenarios, analysisResults) => {
//     const validatedScenarios = [];
    
//     if (!Array.isArray(scenarios)) {
//         console.warn('‚ö†Ô∏è Scenarios is not an array, converting...');
//         scenarios = [scenarios];
//     }
    
//     for (const scenario of scenarios) {
//         try {
//             // More thorough validation
//             if (!scenario || typeof scenario !== 'object') {
//                 console.warn('‚ö†Ô∏è Skipping invalid scenario:', scenario);
//                 continue;
//             }
            
//             if (!scenario.title && !scenario.description) {
//                 console.warn('‚ö†Ô∏è Skipping scenario without title or description');
//                 continue;
//             }
            
//             // Enhanced enrichment with error handling
//             const enrichedScenario = {
//                 ...scenario,
//                 id: generateScenarioId(),
//                 generatedBy: 'ai',
//                 confidence: calculateScenarioConfidence(scenario, analysisResults),
//                 feasibilityScore: calculateFeasibilityScore(scenario),
//                 metadata: {
//                     generatedAt: new Date().toISOString(),
//                     aiGenerated: true,
//                     dataBasedConfidence: analysisResults?.fuzzyResults?.high || 0,
//                     validationPassed: true
//                 }
//             };
            
//             validatedScenarios.push(enrichedScenario);
            
//         } catch (enrichmentError) {
//             console.error('‚ùå Error enriching scenario:', enrichmentError);
//             // Still add the basic scenario if enrichment fails
//             validatedScenarios.push({
//                 ...scenario,
//                 id: generateScenarioId(),
//                 generatedBy: 'ai',
//                 confidence: 50,
//                 feasibilityScore: 50,
//                 metadata: {
//                     generatedAt: new Date().toISOString(),
//                     aiGenerated: true,
//                     enrichmentError: enrichmentError.message
//                 }
//             });
//         }
//     }
    
//     return validatedScenarios;
// };

// /**
//  * HELPER: Generate unique scenario ID
//  */
// const generateScenarioId = () => {
//     return `ai_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
// };

// /**
//  * FIXED: Better confidence calculation with error handling
//  */
// const calculateScenarioConfidence = (scenario, analysisResults) => {
//     try {
//         let confidence = 50; // Base confidence
        
//         // Actions quality
//         if (scenario.actions && Array.isArray(scenario.actions) && scenario.actions.length >= 3) {
//             confidence += 15;
//         }
        
//         // Risk assessment quality
//         if (scenario.risks && Array.isArray(scenario.risks) && scenario.risks.length >= 2) {
//             confidence += 10;
//         }
        
//         // Expected outcomes quality
//         if (scenario.expectedOutcomes && Array.isArray(scenario.expectedOutcomes) && scenario.expectedOutcomes.length >= 2) {
//             confidence += 10;
//         }
        
//         // Data-based confidence boost
//         if (analysisResults?.fuzzyResults?.high) {
//             confidence += (analysisResults.fuzzyResults.high * 0.2);
//         }
        
//         return Math.min(100, Math.max(0, Math.round(confidence)));
        
//     } catch (error) {
//         console.warn('‚ö†Ô∏è Error calculating scenario confidence:', error);
//         return 50; // Default confidence
//     }
// };

// /**
//  * FIXED: Better feasibility calculation
//  */
// const calculateFeasibilityScore = (scenario) => {
//     try {
//         // Complexity assessment
//         const actionsCount = Array.isArray(scenario.actions) ? scenario.actions.length : 0;
//         const complexityScore = Math.min(100, Math.max(20, 100 - (actionsCount * 5)));
        
//         // Timeframe assessment
//         const timeframeScores = {
//             'short_term': 85,
//             'medium_term': 65, 
//             'long_term': 45
//         };
//         const timeScore = timeframeScores[scenario.timeframe] || 60;
        
//         // Budget assessment
//         let budgetScore = 70;
//         if (scenario.estimatedBudget && typeof scenario.estimatedBudget === 'string') {
//             const budget = extractNumberFromBudget(scenario.estimatedBudget);
//             if (budget > 5000000) budgetScore = 30;
//             else if (budget > 2000000) budgetScore = 50;
//             else if (budget > 500000) budgetScore = 70;
//             else budgetScore = 90;
//         }
        
//         const finalScore = Math.round((complexityScore * 0.3 + timeScore * 0.4 + budgetScore * 0.3));
//         return Math.min(100, Math.max(10, finalScore));
        
//     } catch (error) {
//         console.warn('‚ö†Ô∏è Error calculating feasibility score:', error);
//         return 60; // Default feasibility
//     }
// };

// /**
//  * HELPER: Extract number from budget string with better regex
//  */
// const extractNumberFromBudget = (budgetString) => {
//     try {
//         const numbers = budgetString.match(/[\d,\.]+/g);
//         if (numbers && numbers.length > 0) {
//             return parseInt(numbers[0].replace(/[,\.]/g, ''));
//         }
//         return 0;
//     } catch (error) {
//         console.warn('‚ö†Ô∏è Error extracting number from budget:', error);
//         return 0;
//     }
// };

// /**
//  * UNCHANGED: Final scenario processing
//  */
// const finalizeAIScenarios = (scenarios) => {
//     return scenarios.slice(0, 5).map((scenario, index) => {
//         const priorityTexts = {
//             'high': '‘≤‘±’ê’Å’ê ‘ø‘±’ê‘µ’é’à’ê’à’í‘π’Ö’à’í’Ü',
//             'medium': '’Ñ‘ª’ã‘ª’Ü ‘ø‘±’ê‘µ’é’à’ê’à’í‘π’Ö’à’í’Ü', 
//             'low': '’ë‘±‘æ’ê ‘ø‘±’ê‘µ’é’à’ê’à’í‘π’Ö’à’í’Ü'
//         };

//         const timeframeTexts = {
//             'short_term': '‘ø’°÷Ä’≥’°’™’°’¥’Ø’•’ø (3-6 ’°’¥’´’Ω)',
//             'medium_term': '’Ñ’´’ª’∂’°’™’°’¥’Ø’•’ø (6-18 ’°’¥’´’Ω)',
//             'long_term': '‘µ÷Ä’Ø’°÷Ä’°’™’°’¥’Ø’•’ø (1-3 ’ø’°÷Ä’´)'
//         };

//         return {
//             ...scenario,
//             displayOrder: index + 1,
//             priorityText: priorityTexts[scenario.priority] || '’Ñ‘ª’ã‘ª’Ü ‘ø‘±’ê‘µ’é’à’ê’à’í‘π’Ö’à’í’Ü',
//             timeframeText: timeframeTexts[scenario.timeframe] || scenario.timeframe,
//             confidenceText: `${Math.round(scenario.confidence || 50)}% ’æ’Ω’ø’°’∞’∏÷Ç’©’µ’∏÷Ç’∂`,
//             feasibilityText: `${scenario.feasibilityScore || 50}% ’´÷Ä’°’Ø’°’∂’°÷Å’æ’•’¨’´’∏÷Ç’©’µ’∏÷Ç’∂`,
//             metadata: {
//                 ...scenario.metadata,
//                 finalizedAt: new Date().toISOString(),
//                 version: '2.0'
//             }
//         };
//     });
// };

// /**
//  * FIXED: Simpler fallback scenarios with better error handling
//  */
// const getFallbackAIScenarios = async (dataType, analysisResults, userId = 1) => {
//     const simplePrompt = `’Ñ’•’∂’•’ª’•÷Ä’°’Ø’°’∂ ’∏÷Ä’∏’∑’∏÷Ç’¥’∂’•÷Ä’´ ’°’ª’°’Ø÷Å’∏÷Ç’©’µ’°’∂ ’∞’°’¥’°’Ø’°÷Ä’£: ’ç’ø’•’≤’Æ’´÷Ä  ${dataType}  ’∏’¨’∏÷Ä’ø’´ ’º’´’Ω’Ø’°’µ’´’∂ ’´÷Ä’°’æ’´’≥’°’Ø’∂’•÷Ä’´ ’Ø’°’º’°’æ’°÷Ä’¥’°’∂ ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä (3)  JSON array ÷Ü’∏÷Ä’¥’°’ø’∏’æ÷â ’ä’°’ø’°’Ω’≠’°’∂’´÷Ä ’¥’´’°’µ’∂ JSON array-’∏’æ, ’¥’´’°’∂’£’°’¥’´÷Å ’æ’•÷Ä’°’§’°÷Ä’±÷Ä’∏÷Ç ’Ø’∏’∂’Ø÷Ä’•’ø ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’∏÷Ç’∂÷â ’ø’∏÷Ç÷Ä ’°’º’∂’æ’°’¶’∂ 3 ’Ω÷Å’•’∂’°÷Ä’°’µ’´’∂ ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’∏÷Ç’∂, ’ø’°÷Ä’¢’•÷Ä ’Ø’°÷Ä’•÷Ç’∏÷Ä’∏÷Ç’©’µ’°’∂`;
    
//     try {
//         const fallbackScenarios = await requestScenariosFromAI(simplePrompt, dataType, null, userId);
        
//         if (!fallbackScenarios || fallbackScenarios.length === 0) {
//             console.warn('‚ö†Ô∏è Fallback AI also returned empty, using hardcoded');
//             return getHardcodedFallbackScenarios(dataType, analysisResults);
//         }
        
//         const scenarios = Array.isArray(fallbackScenarios) ? fallbackScenarios : [fallbackScenarios];
//         return finalizeAIScenarios(scenarios);
        
//     } catch (error) {
//         console.error('‚ùå Fallback AI ’Ω÷Å’•’∂’°÷Ä’∂’•÷Ä’´ ’Ω’≠’°’¨:', error);
//         return getHardcodedFallbackScenarios(dataType, analysisResults);
//     }
// };

// /**
//  * UNCHANGED: Hardcoded fallback scenarios
//  */
// const getHardcodedFallbackScenarios = (dataType, analysisResults) => {
//     const dataTypeTranslations = {
//         demographic: '’§’•’¥’∏’£÷Ä’°÷Ü’´’°’Ø’°’∂',
//         healthcare: '’°’º’∏’≤’ª’°’∫’°’∞’°’Ø’°’∂',
//         quality_of_life: '’Ø’µ’°’∂÷Ñ’´ ’∏÷Ä’°’Ø’´',
//         educational: '’Ø÷Ä’©’°’Ø’°’∂'
//     };

//     return [{
//         title: `${dataTypeTranslations[dataType] || dataType} ’∏’¨’∏÷Ä’ø’´ ’®’∂’§’∞’°’∂’∏÷Ç÷Ä ’¢’°÷Ä’•’¨’°’æ’¥’°’∂ ’Æ÷Ä’°’£’´÷Ä`,
//         description: '’è’æ’µ’°’¨’∂’•÷Ä’´ ’æ’•÷Ä’¨’∏÷Ç’Æ’∏÷Ç’©’µ’°’∂ ’∞’´’¥’°’∂ ’æ÷Ä’° ’°’º’°’ª’°÷Ä’Ø’æ’∏’≤ ’∞’´’¥’∂’°’Ø’°’∂ ’¥’∏’ø’•÷Å’∏÷Ç’¥’∂’•÷Ä ÷á ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥’∂’•÷Ä',
//         category: 'general_improvement',
//         priority: 'medium',
//         priorityText: '’Ñ‘ª’ã‘ª’Ü ‘ø‘±’ê‘µ’é’à’ê’à’í‘π’Ö’à’í’Ü',
//         timeframe: 'medium_term',
//         timeframeText: '’Ñ’´’ª’∂’°’™’°’¥’Ø’•’ø (6-18 ’°’¥’´’Ω)',
//         actions: [
//             '’è’æ’µ’°’¨’∂’•÷Ä’´ ’∞’°’æ’°÷Ñ’¥’°’∂ ’¥’•’©’∏’§’°’¢’°’∂’∏÷Ç’©’µ’°’∂ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥',
//             '’Ä’•’ø’°’¶’∏’ø’°’Ø’°’∂ ’£’∏÷Ä’Æ’∏÷Ç’∂’•’∏÷Ç’©’µ’°’∂ ’´÷Ä’°’Ø’°’∂’°÷Å’∏÷Ç’¥',
//             '’á’°’∞’°’º’∏÷Ç’∂’•÷Ä’´ ’∞’•’ø ’≠’∏÷Ä’∞÷Ä’§’°’Ø÷Å’°’Ø’°’∂ ’£’∏÷Ä’Æ’®’∂’©’°÷Å’∂’•÷Ä’´ ’Ø’°’¶’¥’°’Ø’•÷Ä’∫’∏÷Ç’¥',
//             '’ì’∏÷Ç’¨’°’µ’´’∂ ’´÷Ä’°’Ø’°’∂’°÷Å’¥’°’∂ ’Æ÷Ä’°’£’Æ’´ ’¥’∑’°’Ø’∏÷Ç’¥',
//             '’Ñ’∏’∂’´’©’∏÷Ä’´’∂’£’´ ÷á ’£’∂’°’∞’°’ø’¥’°’∂ ’∞’°’¥’°’Ø’°÷Ä’£’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥'
//         ],
//         indicators: ['’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’´÷Ä’°’Ø’°’∂’°÷Å’¥’°’∂ ’¥’°’Ø’°÷Ä’§’°’Ø', '’∑’°’∞’°’º’∏÷Ç’∂’•÷Ä’´ ’£’∏’∞’∏÷Ç’∂’°’Ø’∏÷Ç’©’µ’∏÷Ç’∂', '’Æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∏÷Ä’°’Ø'],
//         risks: ['’¢’µ’∏÷Ç’ª’•’ø’°’µ’´’∂ ’Ω’°’∞’¥’°’∂’°÷É’°’Ø’∏÷Ç’¥’∂’•÷Ä', '÷É’∏÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´’∂ ’∞’°’Ø’°’º’°’Ø’∏÷Ç’©’µ’∏÷Ç’∂', '’º’•’Ω’∏÷Ç÷Ä’Ω’°’µ’´’∂ ’∫’°’Ø’°’Ω'],
//         estimatedBudget: '500,000 - 1,000,000 ’§÷Ä’°’¥',
//         expectedOutcomes: [
//             '‘æ’°’º’°’µ’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∏÷Ä’°’Ø’´ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥',
//             '’á’°’∞’°’º’∏÷Ç’∂’•÷Ä’´ ’£’∏’∞’∏÷Ç’∂’°’Ø’∏÷Ç’©’µ’°’∂ ’°’≥',
//             '’Ä’°’¥’°’Ø’°÷Ä’£’°’µ’´’∂ ’°÷Ä’§’µ’∏÷Ç’∂’°’æ’•’ø’∏÷Ç’©’µ’°’∂ ’¢’°÷Ä’±÷Ä’°÷Å’∏÷Ç’¥'
//         ],
//         confidence: 70,
//         feasibilityScore: 80,
//         confidenceText: '70% ’æ’Ω’ø’°’∞’∏÷Ç’©’µ’∏÷Ç’∂',
//         feasibilityText: '80% ’´÷Ä’°’Ø’°’∂’°÷Å’æ’•’¨’´’∏÷Ç’©’µ’∏÷Ç’∂',
//         id: generateScenarioId(),
//         displayOrder: 1,
//         generatedBy: 'fallback',
//         metadata: {
//             generatedAt: new Date().toISOString(),
//             dataType: dataType,
//             fallback: true,
//             aiGenerated: false,
//             version: '2.0'
//         }
//     }];
// };

// // Export test functions for debugging
// export const testMultipleScenariosExtraction = () => {
//     const multipleScenarios = `[
//   {
//     "title": "‘ø’µ’°’∂÷Ñ’´ ’∏÷Ä’°’Ø’´ ’¢’°÷Ä’•’¨’°’æ’¥’°’∂ ’Æ÷Ä’°’£’´÷Ä",
//     "description": "’ç’∏÷Å’´’°’¨’°’Ø’°’∂ ÷á ’ø’∂’ø’•’Ω’°’Ø’°’∂ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥’∂’•÷Ä’´ ’∞’°’¥’°’Ø’°÷Ä’£",
//     "category": "quality_improvement",
//     "priority": "high",
//     "timeframe": "medium_term",
//     "actions": ["’ç’∏÷Å’´’°’¨’°’Ø’°’∂ ’Æ÷Ä’°’£÷Ä’•÷Ä’´ ’¥’∑’°’Ø’∏÷Ç’¥", "’è’∂’ø’•’Ω’°’Ø’°’∂ ’°’ª’°’Ø÷Å’∏÷Ç’©’µ’°’∂ ’°’∫’°’∞’∏’æ’∏÷Ç’¥"],
//     "indicators": ["’£’∏’∞’∏÷Ç’∂’°’Ø’∏÷Ç’©’µ’°’∂ ’¥’°’Ø’°÷Ä’§’°’Ø", "’•’Ø’°’¥’ø’´ ÷É’∏÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂"],
//     "risks": ["’¢’µ’∏÷Ç’ª’•’ø’°’µ’´’∂ ’Ω’°’∞’¥’°’∂’°÷É’°’Ø’∏÷Ç’¥’∂’•÷Ä"],
//     "estimatedBudget": "3-5 ’¥’´’¨’´’∏’∂ ’§÷Ä’°’¥",
//     "expectedOutcomes": ["’Ø’µ’°’∂÷Ñ’´ ’∏÷Ä’°’Ø’´ ’¢’°÷Ä’•’¨’°’æ’∏÷Ç’¥"]
//   }
// ]`;
    
//     console.log('üß™ Testing multiple scenarios extraction...');
//     const scenarios = extractJSONFromResponse(multipleScenarios);
//     console.log(`üéâ Test result: extracted ${scenarios.length} scenarios`);
//     return scenarios;
// };